<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>SATO JABAR</title>
      <script src="https://cdn.tailwindcss.com"></script>


      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""/>

      <style>
         #map {
            width: 100%;
            height: 100vh;
         }
      </style>


   </head>
   <script>
      // Data yang dikirim dari server
      var animalsData = <%- JSON.stringify(animals) %>;
    </script>
   <body>
      <!-- Panel Navigasi -->
      <nav class="bg-[#556B2F] p-4 text-white fixed w-full top-0 z-50">
         <div class="flex justify-between">
            <div class="flex space-x-2">
              <!-- Add your images here with appropriate Tailwind CSS classes -->
              <img src="ITB.png" alt="Logo 1" class="h-10 w-10">
              <img src="KLHK.png" alt="Logo 2" class="h-10 w-10">
              <img src="SATOJABAR.png" alt="Logo 3" class="h-15 w-20">
            </div>
         <div class="flex justify-center">
            <ul class="flex space-x-4">
               <li class="hover:bg-[#475B26] py-2 px-4 rounded text-center">
                  <a href="#" class="block">INFORMASI SATWA LANGKA</a>
               </li>
               <li class="hover:bg-[#475B26] py-2 px-4 rounded text-center">
                  <a href="#" class="block">PERMASALAHAN KONSERVASI</a>
               </li>
               <li class="hover:bg-[#475B26] py-2 px-4 rounded text-center">
                  <a href="#" class="block">PETA DAN STATISTIK</a>
               </li>
            </ul>
         </div>
      </nav>
      <!-- End of Panel Navigasi-->

         <!-- Halaman 1 -->
         <div class="relative overflow-hidden rounded-t-lg h-screen w-full">
            <!-- relative container for absolute positioned children -->
            <!-- Background image -->
            <img src="Background1.png" alt="Deskripsi Gambar" class="absolute inset-0 h-full w-full object-cover">
            <!-- Foreground image -->
            <div class="w-auto h-auto mt-[100px] flex justify-center items-center flex-col">
                  <img src="SATOJABAR.png" alt="Deskripsi Gambar" class="scale-50 mt-20" >
                  <!-- Text in the center -->
                  <h1 class="text-white text-2xl md:text-2xl font-semibold z-10">Sistem Informasi Terpadu Konservasi Hewan Provinsi Jawa Barat</h1>
            </div>
         </div>   


<!-- Halaman 2 -->

      <div class="relative overflow-hidden rounded-t-lg h-screen w-full">
         <img src="Page2.png" alt="" class="w-full h-auto absolute z-1">
         <div class = "flex justify-center items-center">
         <h1 class="text-white text-4xl font-bold absolute inset-x-960 top-4 h-16">SATWA PRIORITAS KONSERVASI</h1>
         <h3 class="text-white text-l text-center absolute inset-x-960 top-16 h-16 w-1/2">KERJASAMA KELOMPOK KEAHLIAN SAINS DAN TEKNOLOGI INFORMASI GEOGRAFIS PROGRAM STUDI TEKNIK GEODESI DAN GEOMATIKA INSTITUT TEKNOLOGI BANDUNG DENGAN BALAI BESAR KONSERVASI SUMBER DAYA ALAM PROVINSI JAWA BARAT</h3>
         </div>
         <div class="flex justify-center">
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4 p-4 top-16 absolute">
               <!-- Column Box 1 -->
               <div class="bg-white rounded-lg overflow-hidden shadow-lg mt-20">
                  <img src="Owa.jpg" alt="Owa Jawa" class="w-full h-32 sm:h-48 object-cover">
                  <div class="p-4">
                     <h3 class="text-lg font-bold" onclick="showPopup(this)">OWA JAWA</h3>
                     <p class="text-sm">Hylobates moloch</p>
                  </div>
               </div>
               <!-- Column Box 2 -->
               <div class="bg-white rounded-lg overflow-hidden shadow-lg mt-20">
                  <img src="Surili.jpg" alt="Surili" class="w-full h-32 sm:h-48 object-cover">
                  <div class="p-4">
                     <h3 class="text-lg font-bold" onclick="showPopup(this)">SURILI</h3>
                     <p class="text-sm">Presbytis comata</p>
                  </div>
               </div>
               <!-- Column Box 3 -->
               <div class="bg-white rounded-lg overflow-hidden shadow-lg mt-20">
                  <img src="Macan.jpg" alt="Macan Tutul Jawa" class="w-full h-32 sm:h-48 object-cover">
                  <div class="p-4">
                     <h3 class="text-lg font-bold" onclick="showPopup(this)">MACAN TUTUL JAWA</h3>
                     <p class="text-sm">Panthera pardus melas</p>
                  </div>
               </div>
            </div>
         </div>

         <div class="flex justify-center mt-80">
            <div class="grid grid-cols-2 md:grid-cols-2 gap-4 p-4 absolute top-96">
               <!-- Column Box 4 -->
               <div class="bg-white rounded-lg overflow-hidden shadow-lg mt-20" >
                  <img src="Kukang.jpg" alt="Owa Jawa" class="w-full h-32 sm:h-48 object-cover">
                  <div class="p-4">
                     <h3 class="text-lg font-bold" onclick="showPopup(this)">KUKANG JAWA</h3>
                     <p class="text-sm" >Nycticebus javanicus</p>
                  </div>
               </div>
               <!-- Column Box 5 -->
               <div class="bg-white rounded-lg overflow-hidden shadow-lg mt-20">
                  <img src="Lutung.jpg" alt="Surili" class="w-full h-32 sm:h-48 object-cover">
                  <div class="p-4">
                     <h3 class="text-lg font-bold" onclick="showPopup(this)">LUTUNG JAWA</h3>
                     <p class="text-sm">Trachypithecus mauritius</p>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>

  <div id="popup" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full">
    <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
        <div class="mt-3 text-center">
            <p id="popup-text" class="text-lg font-semibold"></p>
            <button class="mt-5 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 focus:outline-none" onclick="closePopup()">Tutup</button>
        </div>
    </div>
</div>


<!-- Halaman 3  -->
<div class="relative overflow-hidden rounded-t-lg h-screen w-full">
   <img src="Page3.png" alt="" class="w-full h-auto absolute z-1">

   <div class = "flex justify-center items-center">
      <h1 class="text-white text-4xl font-bold absolute inset-x-960 top-4 h-16">PERMASALAHAN TERKAIT KONSERVASI</h1>
   </div>


      <div class="grid grid-cols-2 md:grid-cols-3 gap-4 p-4 absolute left-1/4 top-20  ">
         <!-- Column Box 1 -->
         <div class="bg-white rounded-lg overflow-hidden shadow-lg mt-20 ">
            <img src="Owa.jpg" alt="Owa Jawa" class="w-full h-32 sm:h-48 object-cover">
            <div class="p-4">
               <p class="text-center text-sm font-semibold">Aktivitas ekonomi manusia merusak lingkungan dan mengganggu kehidupan satwa</p>
            </div>
         </div>
         <!-- Column Box 2 -->
         <div class="bg-white rounded-lg overflow-hidden shadow-lg mt-20">
            <img src="Surili.jpg" alt="Surili" class="w-full h-32 sm:h-48 object-cover">
            <div class="p-4">
               <p class="text-center text-sm font-semibold">Bencana alam mengancam kehidupan satwa</p>
            </div>
         </div>

         <br>

         <!-- Column Box 3 -->
         <div class="bg-white rounded-lg overflow-hidden shadow-lg mt-20">
            <img src="Owa.jpg" alt="Owa Jawa" class="w-full h-32 sm:h-48 object-cover">
            <div class="p-4">
               <p class="text-center text-sm font-semibold">Aktivitas ekonomi manusia merusak lingkungan dan mengganggu kehidupan satwa</p>
            </div>
         </div>
         <!-- Column Box 4-->
         <div class="bg-white rounded-lg overflow-hidden shadow-lg mt-20">
            <img src="Owa.jpg" alt="Owa Jawa" class="w-full h-32 sm:h-48 object-cover">
            <div class="p-4">
               <p class="text-center text-sm font-semibold">Aktivitas ekonomi manusia merusak lingkungan dan mengganggu kehidupan satwa</p>
            </div>
         </div>
      </div>
   </div>
</div>


<!-- Halaman 4  -->
<div class="w-full h-full flex flex-row">
   <!-- text -->
   <div class ="rounded-lg overflow-hidden shadow-lg w-1/4">
      <p class="text-sm font-bold text-4xl">PETA KESESUAIAN MULTI HABITAT FAUNA ENDEMIK JAWA BARAT</p>
   </div>
   <!-- map -->
   <div class="w-3/4 sticky">
      <div id="map"></div>
   </div>

</div>

        <!-- Column Box Map -->
      <!-- <div>
        <div class="rounded-lg overflow-hidden shadow-lg sticky right-0 mt-20 h-3/4 w-3/4" >
         <div class="p-4">
            <p class="text-center text-sm font-bold text-4xl">PETA KESESUAIAN MULTI HABITAT FAUNA ENDEMIK JAWA BARAT</p>
         </div>

      </div>
   </div> -->



<script>
    function showPopup(element) {
      console.log(animalsData);
        // Mengambil teks dari elemen h3
        var titleText = element.textContent || element.innerText;
        console.log(titleText);

        var matchedAnimal = animalsData.find(animal => animal.name === titleText);
      if (matchedAnimal) {
                 // Mengambil teks dari elemen p yang merupakan saudara dari h3
        var detailText = element.nextElementSibling.textContent || element.nextElementSibling.innerText;
        console.log(detailText);
        // Mengambil sumber gambar dari img dalam parent yang sama
        var imgSrc = element.parentNode.parentNode.querySelector('img').src;
        var imgAlt = element.parentNode.parentNode.querySelector('img').alt;
        console.log(imgSrc);
   
        var popupContent = `
            <div class="p-4">
               <img src="${imgSrc}" alt="${imgAlt}" class="w-full h-32 sm:h-48 object-cover">
               <div class="mt-4">
                  <h3 class="text-lg font-bold uppercase">${titleText}</h3>
                  <p class="text-sm">${detailText}</p>
               </div>
               <div class="mt-4">
                  <p class="font-bold uppercase">FAMILY: ${matchedAnimal.famili}</p>
                  <p class="font-bold uppercase">GENUS: ${matchedAnimal.genus}</p>
                  <p class="font-bold uppercase">POPULATION: ${matchedAnimal.sisa_populasi}</p>
               </div>
               <div class="mt-2">
                  <p class="text-sm">${matchedAnimal.deskripsi}</p>
               </div>
            </div>
            `;


        

          // Menampilkan teks dan gambar di dalam popup
          document.getElementById('popup-text').innerHTML = popupContent;

          // Menampilkan popup
          document.getElementById('popup').style.display = 'block';
      } else {
          // Tampilkan pesan error atau isi default jika tidak ada kecocokan
          document.getElementById('popup-text').innerHTML = "<p>Informasi tidak tersedia.</p>";
          document.getElementById('popup').style.display = 'block';
      }


        // Menampilkan teks dan gambar di dalam popup
        document.getElementById('popup-text').innerHTML = popupContent;

        // Menampilkan popup
        document.getElementById('popup').style.display = 'block';
    }

    function closePopup() {
        // Menutup popup
        document.getElementById('popup').style.display = 'none';
    }
</script>



</html>


<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
crossorigin=""></script>

<script>
   var map = L.map('map').setView([51.505, -0.09], 13);

   L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
   }).addTo(map);
</script>